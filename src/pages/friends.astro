---
import cynosuraAvatar from "../assets/friends/cynosura.webp";
import q1zhenAvatar from "../assets/friends/q1zhen.jpg";
import yunyitangAvatar from "../assets/friends/yunyitang.png";
import heuluckAvatar from "../assets/friends/heuluck.png";
import librAvatar from "../assets/friends/libr.png";
import lakrAvatar from "../assets/friends/lakr.png";
import Foundation from '../layouts/Foundation.astro';
import ContactLink from '../components/ui/ContactLink.astro';
import Header from '../components/Header.astro';
import { Image } from 'astro:assets';
import SiteFooter from '../components/ui/SiteFooter.astro';

let friends = [
  {
    name: "Cynosura",
    url: "https://cynosura.one",
    description: "Per aspera, ad astra.",
    avatar: cynosuraAvatar
  },
  {
    name: "LiBr",
    url: "https://nvme0n1p.dev",
    description: "井底之蛙不识海，却知晓天空之蓝。",
    avatar: librAvatar
  },
  {
    name: "q1zhen",
    url: "https://q1z.dev",
    description: "Place where I create, break, and write about things.",
    avatar: q1zhenAvatar
  },
  {
    name: "Yunyi's Blog",
    url: "https://www.yunyitang.me",
    description: "Little squirrel Hopping around",
    avatar: yunyitangAvatar
  },
  {
    name: "Heuluck's Blog",
    url: "https://heuluck.top",
    description: "随便写点东西记录一下",
    avatar: heuluckAvatar
  },
  {
    name: "砍砍",
    url: "https://www.qaq.wiki",
    description: "藏一片星光在我背包",
    avatar: lakrAvatar
  }
]
for (let i = friends.length - 1; i > 0; i--) {
  const j = Math.floor(Math.random() * (i + 1));
  [friends[i], friends[j]] = [friends[j], friends[i]];
}
const pageTitle = "Friends 友人";
const pageDescription = "Place where I list the talented people I know.";
---

<Foundation title={pageTitle} description={pageDescription}>
  
  
  <Fragment slot="header">
    <Header customTitle="Alan's" />
  </Fragment>
  <div class="min-h-screen bg-white dark:bg-slate-900">
    
    
    <main id="main-content" class="px-8 md:px-16 lg:px-24 py-16" style="view-transition-name: main-content;">
      <div class="max-w-4xl mx-auto">
        
        <section class="mb-16">
          <h1 class="text-4xl md:text-5xl font-light text-slate-900 dark:text-slate-100 mb-6 leading-tight">
            Friends
          </h1>
          <p class="text-lg text-slate-600 dark:text-slate-300 leading-relaxed max-w-2xl">
            Place where I list the talented people I know. Randomly shuffled.
          </p>
        </section>
        
        <section class="grid grid-cols-1 md:grid-cols-2 gap-6">
          {friends.map((friend) => (
            <a 
              href={friend.url} 
              target="_blank" 
              rel="noopener noreferrer"
              class="friend-card group focus-ring"
            >
              <div class="flex items-start space-x-4">
                <div class="flex-shrink-0">
                  <Image 
                    src={friend.avatar} 
                    alt={friend.name}
                    width={64}
                    height={64}
                    class="rounded-full object-cover w-16 h-16"
                  />
                </div>
                <div class="flex-1">
                  <div class="flex items-start justify-between">
                    <h3 class="text-lg font-medium text-slate-800 dark:text-slate-200 mb-2 group-hover:text-slate-700 dark:group-hover:text-slate-100 transition-colors">
                      {friend.name}
                    </h3>
                    <svg 
                      class="arrow-icon" 
                      width="20" 
                      height="20" 
                      viewBox="0 0 24 24" 
                      fill="none" 
                      xmlns="http://www.w3.org/2000/svg"
                      aria-hidden="true"
                    >
                      <path 
                        d="M7 17L17 7M17 7H7M17 7V17" 
                        stroke="currentColor" 
                        stroke-width="2" 
                        stroke-linecap="round" 
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                  <p class="text-slate-600 dark:text-slate-300 text-xs leading-relaxed">
                    {friend.description}
                  </p>
                </div>
              </div>
            </a>
          ))}
        </section>
        <section class="mt-16">
          <h2 class="text-2xl md:text-3xl font-light text-slate-900 dark:text-slate-100 mb-4">
            Want to connect?
          </h2>
          <p class="text-lg text-slate-600 dark:text-slate-300 leading-relaxed mb-6 max-w-md">
            If we've worked together or you think we should connect, reach out and I'll add you to this list.
          </p>
          <ContactLink href="/#contact">
            Get in Touch
          </ContactLink>
        </section>

        <SiteFooter />

      </div>
    </main>
    
  </div>
</Foundation>

<style>
  @reference "tailwindcss";

  .friend-card {
    @apply block p-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm;
    @apply hover:border-slate-300 dark:hover:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 hover:-translate-y-0.5;
    @apply active:translate-y-0 active:shadow-sm;
    @apply transition-all duration-300 ease-out;
    @apply relative overflow-hidden;
    text-decoration: none;
    color: inherit;
    order: 0;
  }

  .arrow-icon {
    @apply text-slate-400 dark:text-slate-300 w-5 h-5;
    @apply transition-all duration-300 ease-out;
    @apply opacity-0 translate-x-2 -translate-y-1;
    @apply group-hover:opacity-100 group-hover:translate-x-0 group-hover:translate-y-0;
    @apply group-hover:text-slate-600 dark:group-hover:text-slate-200;
    flex-shrink: 0;
  }

  .friend-card::before {
    content: '';
    @apply absolute inset-0 -translate-x-full;
    background: linear-gradient(90deg, transparent, rgba(148, 163, 184, 0.1), transparent);
    @apply group-hover:translate-x-full;
    transition: transform 0.6s ease;
  }
</style>
