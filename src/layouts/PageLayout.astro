---
import BaseLayout from "./BaseLayout.astro";
import type { PageMeta, BlogPost } from "../types/content";

interface Props {
  meta: PageMeta;
  post?: BlogPost;
  variant?: 'default' | 'blog' | 'minimal';
}

const { meta, post, variant = 'default' } = Astro.props;

const layoutClasses = {
  default: "min-h-screen bg-white",
  blog: "min-h-screen bg-white",
  minimal: "min-h-screen bg-slate-50"
};
---

<BaseLayout meta={meta} class={layoutClasses[variant]}>
  <main class="flex-1">
    {post && (
      <!-- Blog post header -->
      <header class="px-8 md:px-16 lg:px-24 pt-20 md:pt-16 pb-8 border-b border-slate-200">
        <div class="max-w-4xl mx-auto">
          <div class="mb-4">
            <time class="text-sm text-slate-500 font-mono">{post.date}</time>
            {post.readingTime && (
              <span class="text-slate-400 mx-2">â€¢</span>
              <span class="text-sm text-slate-500">{post.readingTime} min read</span>
            )}
          </div>
          <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-slate-900 mb-4 leading-tight">
            {post.title}
          </h1>
          <p class="text-lg text-slate-600 leading-relaxed">
            {post.description}
          </p>
          {post.tags && post.tags.length > 0 && (
            <div class="flex flex-wrap gap-2 mt-6">
              {post.tags.map(tag => (
                <span class="px-2 py-1 bg-slate-100 text-slate-600 rounded text-xs font-mono">
                  {tag}
                </span>
              ))}
            </div>
          )}
        </div>
      </header>
    )}
    
    <!-- Content slot -->
    <slot />
  </main>
</BaseLayout>

<style>
  @reference "tailwindcss";
</style>
