---
interface Props {
  tagline: string;
  subtitle?: string;
}

const { 
  tagline,
  subtitle = "Crafting at the intersection of technology and design"
} = Astro.props;

const words = tagline.split(/\s+/).filter(Boolean);
---

<section class="min-h-screen flex flex-col justify-center px-8 md:px-16 lg:px-24 pt-20 md:pt-16" style="view-transition-name: hero-section;">
  <div class="max-w-4xl">
    <p class="hero-tagline text-lg md:text-xl lg:text-2xl text-slate-700 leading-relaxed font-light mb-3">
      {words.map((w, i) => (
        <Fragment>
          <span style={`animation-delay: ${i * 0.15}s`}>{w}</span>{i < words.length - 1 ? ' ' : null}
        </Fragment>
      ))}
    </p>
    
    <div class="text-sm text-light text-slate-500">
      {subtitle}
    </div>
    
    <div class="mt-8">
      <a 
        href="#main-content"
        class="scroll-arrow group cursor-pointer opacity-60 hover:opacity-90 transition-opacity duration-300 inline-flex items-center justify-center rounded-full p-1"
        aria-hidden="true"
        tabindex="-1"
        role="presentation"
      >
        <div class="text-slate-400 tracking-wider animate-bounce">â†“</div>
      </a>
    </div>
  </div>
</section>

<style>
  .hero-tagline {
    font-variation-settings: 'wght' 550, 'wdth' 120, 'slnt' 0;
  }

  @keyframes fontBreathe {
    0% {
      font-variation-settings: 'wght' 550, 'wdth' 120, 'slnt' 0;
    }
    45% {
      font-variation-settings: 'wght' 300, 'wdth' 100, 'slnt' 0;
    }
    100% {
      font-variation-settings: 'wght' 550, 'wdth' 120, 'slnt' 0;
    }
  }

  .hero-tagline span {
    display: inline-block;
    transition: font-variation-settings 0.2s;
    white-space: nowrap;
  }

  @media (min-width: 769px) {
    .hero-tagline span {
      animation: fontBreathe 2s ease-in-out;
    }
  }

  @media (max-width: 768px) {
    .hero-tagline {
      font-size: 1.125rem !important;
      line-height: 1.6;
      font-variation-settings: 'wght' 550, 'wdth' 110, 'slnt' 0;
    }
    
    .hero-tagline span {
      white-space: normal;
      display: inline;
    }
  }

  /* Per-word animation delays are applied inline for flexibility */
</style>
